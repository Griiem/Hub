local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Felicity Hub",
   Icon = 0,
   LoadingTitle = "Felicity Hub said hello!",
   LoadingSubtitle = "by Majin/Griiem",
   ShowText = "Felicity",
   Theme = "Green",
   ToggleUIKeybind = "H",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "felicity",
      FileName = "FelicityHub"
   },
   Discord = {
      Enabled = true,
      Invite = "Y4br4PhQs2",
      RememberJoins = true
   },
   KeySystem = true,
   KeySettings = {
      Title = "Key System",
      Subtitle = "Key.exe",
      Note = "Join the Discord server to receive the key.",
      FileName = "FelicityH_Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"123.png"}
   }
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local walkSpeed = 16 -- valor inicial
local speedEnabled = false -- toggle que liga/desliga a WS

-- cria a aba e seção
local Tab = Window:CreateTab("Movement", 107543713251715)
local Section = Tab:CreateSection("Player Movement")

-- Toggle para ativar/desativar a velocidade
Section:CreateToggle({
    Name = "Enable Speed",
    CurrentValue = false,
    Flag = "EnableSpeed",
    Callback = function(Value)
        speedEnabled = Value
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = speedEnabled and walkSpeed or 16
        end
    end
})

-- Input para digitar o WS desejado
Section:CreateInput({
    Name = "WalkSpeed",
    CurrentValue = "16",
    PlaceholderText = "Digite o WS desejado",
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        local value = tonumber(Text)
        if value then
            walkSpeed = value
            if speedEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = value
            end
        else
            Rayfield:Notify({
                Title = "Erro",
                Content = "Digite um número válido!",
                Duration = 3
            })
        end
    end
})

-- Aplica automaticamente ao respawn
LocalPlayer.CharacterAdded:Connect(function(char)
    char:WaitForChild("Humanoid")
    if speedEnabled then
        char.Humanoid.WalkSpeed = walkSpeed
    end
end)
